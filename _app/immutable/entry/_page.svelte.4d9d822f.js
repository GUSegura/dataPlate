import{S as kt,i as At,s as Mt,C as oi,k as N,l as $,m as M,h as y,b as T,D as ai,E as si,F as li,g as j,d as tt,o as ee,w as Yt,J as ne,K as re,n as w,L as ln,G as E,M as cn,H as J,N as Vt,a as z,q as Tt,c as V,r as Ft,O as fe,y as ot,z as at,p as Bt,A as st,P as ue,B as lt,Q as mt}from"../chunks/index.73950316.js";function ci(t){let e,n;const r=t[7].default,i=oi(r,t,t[6],null);return{c(){e=N("div"),i&&i.c()},l(o){e=$(o,"DIV",{});var a=M(e);i&&i.l(a),a.forEach(y)},m(o,a){T(o,e,a),i&&i.m(e,null),t[8](e),n=!0},p(o,[a]){i&&i.p&&(!n||a&64)&&ai(i,r,o,o[6],n?li(r,o[6],a,null):si(o[6]),null)},i(o){n||(j(i,o),n=!0)},o(o){tt(i,o),n=!1},d(o){o&&y(e),i&&i.d(o),t[8](null)}}}function fi(t,e,n){let{$$slots:r={},$$scope:i}=e,{root:o=null}=e,{top:a=0}=e,{bottom:s=0}=e,{increments:c=100}=e,{value:l=void 0}=e;const h=[],f=[];let u=[],d=[],p;const _=()=>{u.length&&u.forEach(v)},m=()=>{let g=0,C=0;for(let A=0;A<h.length;A++)h[A]>g&&(g=h[A],C=A);g>0?n(1,l=C):n(1,l=void 0)},v=(g,C)=>{const A=x=>{x[0].isIntersecting;const q=x[0].intersectionRatio;h[C]=q,m()},I=a?a*-1:0,F=s?s*-1:0,R=`${I}px 0px ${F}px 0px`,H={root:o,rootMargin:R,threshold:f};d[C]&&d[C].disconnect();const S=new IntersectionObserver(A,H);S.observe(g),d[C]=S};ee(()=>{for(let g=0;g<c+1;g++)f.push(g/c);u=p.querySelectorAll(":scope > *"),_()});function b(g){Yt[g?"unshift":"push"](()=>{p=g,n(0,p)})}return t.$$set=g=>{"root"in g&&n(2,o=g.root),"top"in g&&n(3,a=g.top),"bottom"in g&&n(4,s=g.bottom),"increments"in g&&n(5,c=g.increments),"value"in g&&n(1,l=g.value),"$$scope"in g&&n(6,i=g.$$scope)},t.$$.update=()=>{t.$$.dirty&24&&_()},[p,l,o,a,s,c,i,r,b]}class he extends kt{constructor(e){super(),At(this,e,fi,ci,Mt,{root:2,top:3,bottom:4,increments:5,value:1})}}function ve(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ui(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yr(t){let e,n,r;t.length!==2?(e=ve,n=(s,c)=>ve(t(s),c),r=(s,c)=>t(s)-c):(e=t===ve||t===ui?t:hi,n=t,r=t);function i(s,c,l=0,h=s.length){if(l<h){if(e(c,c)!==0)return h;do{const f=l+h>>>1;n(s[f],c)<0?l=f+1:h=f}while(l<h)}return l}function o(s,c,l=0,h=s.length){if(l<h){if(e(c,c)!==0)return h;do{const f=l+h>>>1;n(s[f],c)<=0?l=f+1:h=f}while(l<h)}return l}function a(s,c,l=0,h=s.length){const f=i(s,c,l,h-1);return f>l&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:i,center:a,right:o}}function hi(){return 0}function di(t){return t===null?NaN:+t}const pi=yr(ve),gi=pi.right;yr(di).center;const mi=gi;class Ke extends Map{constructor(e,n=yi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Tn(this,e))}has(e){return super.has(Tn(this,e))}set(e,n){return super.set(_i(this,e),n)}delete(e){return super.delete(vi(this,e))}}function Tn({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _i({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function vi({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function yi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wi(t){return t}function bi(t,e,...n){return xi(t,wi,e,n)}function xi(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Ke,c=r[a++];let l=-1;for(const h of o){const f=c(h,++l,o),u=s.get(f);u?u.push(h):s.set(f,[h])}for(const[h,f]of s)s.set(h,i(f,a));return e(s)}(t,0)}const ki=Math.sqrt(50),Ai=Math.sqrt(10),Mi=Math.sqrt(2);function ke(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ki?10:o>=Ai?5:o>=Mi?2:1;let s,c,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?ke(t,e,n*2):[s,c,l]}function Ei(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?ke(e,t,n):ke(t,e,n);if(!(o>=i))return[];const s=o-i+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(o-l)/-a;else for(let l=0;l<s;++l)c[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(i+l)/-a;else for(let l=0;l<s;++l)c[l]=(i+l)*a;return c}function Ze(t,e,n){return e=+e,t=+t,n=+n,ke(t,e,n)[2]}function Ni(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ze(e,t,n):Ze(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Fn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Dt(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function $i(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Si(t){return t}var Le=1,Be=2,Je=3,Wt=4,Rn=1e-6;function Ci(t){return"translate("+t+",0)"}function Ii(t){return"translate(0,"+t+")"}function Di(t){return e=>+t(e)}function Ti(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Fi(){return!this.__axis}function wr(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Le||t===Wt?-1:1,h=t===Wt||t===Be?"x":"y",f=t===Le||t===Je?Ci:Ii;function u(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),_=i??(e.tickFormat?e.tickFormat.apply(e,n):Si),m=Math.max(o,0)+s,v=e.range(),b=+v[0]+c,g=+v[v.length-1]+c,C=(e.bandwidth?Ti:Di)(e.copy(),c),A=d.selection?d.selection():d,I=A.selectAll(".domain").data([null]),F=A.selectAll(".tick").data(p,e).order(),R=F.exit(),H=F.enter().append("g").attr("class","tick"),S=F.select("line"),x=F.select("text");I=I.merge(I.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(H),S=S.merge(H.append("line").attr("stroke","currentColor").attr(h+"2",l*o)),x=x.merge(H.append("text").attr("fill","currentColor").attr(h,l*m).attr("dy",t===Le?"0em":t===Je?"0.71em":"0.32em")),d!==A&&(I=I.transition(d),F=F.transition(d),S=S.transition(d),x=x.transition(d),R=R.transition(d).attr("opacity",Rn).attr("transform",function(q){return isFinite(q=C(q))?f(q+c):this.getAttribute("transform")}),H.attr("opacity",Rn).attr("transform",function(q){var P=this.parentNode.__axis;return f((P&&isFinite(P=P(q))?P:C(q))+c)})),R.remove(),I.attr("d",t===Wt||t===Be?a?"M"+l*a+","+b+"H"+c+"V"+g+"H"+l*a:"M"+c+","+b+"V"+g:a?"M"+b+","+l*a+"V"+c+"H"+g+"V"+l*a:"M"+b+","+c+"H"+g),F.attr("opacity",1).attr("transform",function(q){return f(C(q)+c)}),S.attr(h+"2",l*o),x.attr(h,l*m).text(_),A.filter(Fi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Be?"start":t===Wt?"end":"middle"),A.each(function(){this.__axis=C})}return u.scale=function(d){return arguments.length?(e=d,u):e},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),u):n.slice()},u.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),u):r&&r.slice()},u.tickFormat=function(d){return arguments.length?(i=d,u):i},u.tickSize=function(d){return arguments.length?(o=a=+d,u):o},u.tickSizeInner=function(d){return arguments.length?(o=+d,u):o},u.tickSizeOuter=function(d){return arguments.length?(a=+d,u):a},u.tickPadding=function(d){return arguments.length?(s=+d,u):s},u.offset=function(d){return arguments.length?(c=+d,u):c},u}function br(t){return wr(Je,t)}function Ri(t){return wr(Wt,t)}var Pi={value:()=>{}};function xr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ye(n)}function ye(t){this._=t}function qi(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ye.prototype=xr.prototype={constructor:ye,on:function(t,e){var n=this._,r=qi(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=zi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Pn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Pn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ye(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function zi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Pn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Pi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qe="http://www.w3.org/1999/xhtml";const qn={svg:"http://www.w3.org/2000/svg",xhtml:Qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Te(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qn.hasOwnProperty(e)?{space:qn[e],local:t}:t}function Vi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qe&&e.documentElement.namespaceURI===Qe?e.createElement(t):e.createElementNS(n,t)}}function Hi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function kr(t){var e=Te(t);return(e.local?Hi:Vi)(e)}function Oi(){}function fn(t){return t==null?Oi:function(){return this.querySelector(t)}}function Li(t){typeof t!="function"&&(t=fn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),c,l,h=0;h<a;++h)(c=o[h])&&(l=t.call(c,c.__data__,h,o))&&("__data__"in c&&(l.__data__=c.__data__),s[h]=l);return new L(r,this._parents)}function Ar(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Bi(){return[]}function Mr(t){return t==null?Bi:function(){return this.querySelectorAll(t)}}function Xi(t){return function(){return Ar(t.apply(this,arguments))}}function Ui(t){typeof t=="function"?t=Xi(t):t=Mr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&(r.push(t.call(c,c.__data__,l,a)),i.push(c));return new L(r,i)}function Er(t){return function(){return this.matches(t)}}function Nr(t){return function(e){return e.matches(t)}}var Yi=Array.prototype.find;function Wi(t){return function(){return Yi.call(this.children,t)}}function Gi(){return this.firstElementChild}function Ki(t){return this.select(t==null?Gi:Wi(typeof t=="function"?t:Nr(t)))}var Zi=Array.prototype.filter;function Ji(){return Array.from(this.children)}function Qi(t){return function(){return Zi.call(this.children,t)}}function ji(t){return this.selectAll(t==null?Ji:Qi(typeof t=="function"?t:Nr(t)))}function to(t){typeof t!="function"&&(t=Er(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&s.push(c);return new L(r,this._parents)}function $r(t){return new Array(t.length)}function eo(){return new L(this._enter||this._groups.map($r),this._parents)}function Ae(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ae.prototype={constructor:Ae,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function no(t){return function(){return t}}function ro(t,e,n,r,i,o){for(var a=0,s,c=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Ae(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function io(t,e,n,r,i,o,a){var s,c,l=new Map,h=e.length,f=o.length,u=new Array(h),d;for(s=0;s<h;++s)(c=e[s])&&(u[s]=d=a.call(c,c.__data__,s,e)+"",l.has(d)?i[s]=c:l.set(d,c));for(s=0;s<f;++s)d=a.call(t,o[s],s,o)+"",(c=l.get(d))?(r[s]=c,c.__data__=o[s],l.delete(d)):n[s]=new Ae(t,o[s]);for(s=0;s<h;++s)(c=e[s])&&l.get(u[s])===c&&(i[s]=c)}function oo(t){return t.__data__}function ao(t,e){if(!arguments.length)return Array.from(this,oo);var n=e?io:ro,r=this._parents,i=this._groups;typeof t!="function"&&(t=no(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var h=r[l],f=i[l],u=f.length,d=so(t.call(h,h&&h.__data__,l,r)),p=d.length,_=s[l]=new Array(p),m=a[l]=new Array(p),v=c[l]=new Array(u);n(h,f,_,m,v,d,e);for(var b=0,g=0,C,A;b<p;++b)if(C=_[b]){for(b>=g&&(g=b+1);!(A=m[g])&&++g<p;);C._next=A||null}}return a=new L(a,r),a._enter=s,a._exit=c,a}function so(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lo(){return new L(this._exit||this._groups.map($r),this._parents)}function co(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function fo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l=n[c],h=r[c],f=l.length,u=s[c]=new Array(f),d,p=0;p<f;++p)(d=l[p]||h[p])&&(u[p]=d);for(;c<i;++c)s[c]=n[c];return new L(s,this._parents)}function uo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function ho(t){t||(t=po);function e(f,u){return f&&u?t(f.__data__,u.__data__):!f-!u}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),l,h=0;h<s;++h)(l=a[h])&&(c[h]=l);c.sort(e)}return new L(i,this._parents).order()}function po(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function go(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mo(){return Array.from(this)}function _o(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function vo(){let t=0;for(const e of this)++t;return t}function yo(){return!this.node()}function wo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function bo(t){return function(){this.removeAttribute(t)}}function xo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ko(t,e){return function(){this.setAttribute(t,e)}}function Ao(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Eo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function No(t,e){var n=Te(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?xo:bo:typeof e=="function"?n.local?Eo:Mo:n.local?Ao:ko)(n,e))}function Sr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $o(t){return function(){this.style.removeProperty(t)}}function So(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Co(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Io(t,e,n){return arguments.length>1?this.each((e==null?$o:typeof e=="function"?Co:So)(t,e,n??"")):Pt(this.node(),t)}function Pt(t,e){return t.style.getPropertyValue(e)||Sr(t).getComputedStyle(t,null).getPropertyValue(e)}function Do(t){return function(){delete this[t]}}function To(t,e){return function(){this[t]=e}}function Fo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ro(t,e){return arguments.length>1?this.each((e==null?Do:typeof e=="function"?Fo:To)(t,e)):this.node()[t]}function Cr(t){return t.trim().split(/^|\s+/)}function un(t){return t.classList||new Ir(t)}function Ir(t){this._node=t,this._names=Cr(t.getAttribute("class")||"")}Ir.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dr(t,e){for(var n=un(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tr(t,e){for(var n=un(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Po(t){return function(){Dr(this,t)}}function qo(t){return function(){Tr(this,t)}}function zo(t,e){return function(){(e.apply(this,arguments)?Dr:Tr)(this,t)}}function Vo(t,e){var n=Cr(t+"");if(arguments.length<2){for(var r=un(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?zo:e?Po:qo)(n,e))}function Ho(){this.textContent=""}function Oo(t){return function(){this.textContent=t}}function Lo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Bo(t){return arguments.length?this.each(t==null?Ho:(typeof t=="function"?Lo:Oo)(t)):this.node().textContent}function Xo(){this.innerHTML=""}function Uo(t){return function(){this.innerHTML=t}}function Yo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Wo(t){return arguments.length?this.each(t==null?Xo:(typeof t=="function"?Yo:Uo)(t)):this.node().innerHTML}function Go(){this.nextSibling&&this.parentNode.appendChild(this)}function Ko(){return this.each(Go)}function Zo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jo(){return this.each(Zo)}function Qo(t){var e=typeof t=="function"?t:kr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function jo(){return null}function ta(t,e){var n=typeof t=="function"?t:kr(t),r=e==null?jo:typeof e=="function"?e:fn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ea(){var t=this.parentNode;t&&t.removeChild(this)}function na(){return this.each(ea)}function ra(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ia(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function oa(t){return this.select(t?ia:ra)}function aa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function sa(t){return function(e){t.call(this,e,this.__data__)}}function la(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ca(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function fa(t,e,n){return function(){var r=this.__on,i,o=sa(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ua(t,e,n){var r=la(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,h;c<l;++c)for(i=0,h=s[c];i<o;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(s=e?fa:ca,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Fr(t,e,n){var r=Sr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ha(t,e){return function(){return Fr(this,t,e)}}function da(t,e){return function(){return Fr(this,t,e.apply(this,arguments))}}function pa(t,e){return this.each((typeof e=="function"?da:ha)(t,e))}function*ga(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var hn=[null];function L(t,e){this._groups=t,this._parents=e}function ie(){return new L([[document.documentElement]],hn)}function ma(){return this}L.prototype=ie.prototype={constructor:L,select:Li,selectAll:Ui,selectChild:Ki,selectChildren:ji,filter:to,data:ao,enter:eo,exit:lo,join:co,merge:fo,selection:ma,order:uo,sort:ho,call:go,nodes:mo,node:_o,size:vo,empty:yo,each:wo,attr:No,style:Io,property:Ro,classed:Vo,text:Bo,html:Wo,raise:Ko,lower:Jo,append:Qo,insert:ta,remove:na,clone:oa,datum:aa,on:ua,dispatch:pa,[Symbol.iterator]:ga};function we(t){return typeof t=="string"?new L([[document.querySelector(t)]],[document.documentElement]):new L([[t]],hn)}function zn(t){return typeof t=="string"?new L([document.querySelectorAll(t)],[document.documentElement]):new L([Ar(t)],hn)}function dn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oe(){}var Jt=.7,Me=1/Jt,Rt="\\s*([+-]?\\d+)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_a=/^#([0-9a-f]{3,8})$/,va=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),ya=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),wa=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${Qt}\\)$`),ba=new RegExp(`^rgba\\(${et},${et},${et},${Qt}\\)$`),xa=new RegExp(`^hsl\\(${Qt},${et},${et}\\)$`),ka=new RegExp(`^hsla\\(${Qt},${et},${et},${Qt}\\)$`),Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dn(oe,wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hn,formatHex:Hn,formatHex8:Aa,formatHsl:Ma,formatRgb:On,toString:On});function Hn(){return this.rgb().formatHex()}function Aa(){return this.rgb().formatHex8()}function Ma(){return Pr(this).formatHsl()}function On(){return this.rgb().formatRgb()}function wt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_a.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ln(e):n===3?new U(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?de(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?de(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=va.exec(t))?new U(e[1],e[2],e[3],1):(e=ya.exec(t))?new U(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wa.exec(t))?de(e[1],e[2],e[3],e[4]):(e=ba.exec(t))?de(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xa.exec(t))?Un(e[1],e[2]/100,e[3]/100,1):(e=ka.exec(t))?Un(e[1],e[2]/100,e[3]/100,e[4]):Vn.hasOwnProperty(t)?Ln(Vn[t]):t==="transparent"?new U(NaN,NaN,NaN,0):null}function Ln(t){return new U(t>>16&255,t>>8&255,t&255,1)}function de(t,e,n,r){return r<=0&&(t=e=n=NaN),new U(t,e,n,r)}function Ea(t){return t instanceof oe||(t=wt(t)),t?(t=t.rgb(),new U(t.r,t.g,t.b,t.opacity)):new U}function Ee(t,e,n,r){return arguments.length===1?Ea(t):new U(t,e,n,r??1)}function U(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dn(U,Ee,Rr(oe,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new U(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jt:Math.pow(Jt,t),new U(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new U(yt(this.r),yt(this.g),yt(this.b),Ne(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bn,formatHex:Bn,formatHex8:Na,formatRgb:Xn,toString:Xn}));function Bn(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}`}function Na(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}${vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xn(){const t=Ne(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function Ne(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vt(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function Un(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Z(t,e,n,r)}function Pr(t){if(t instanceof Z)return new Z(t.h,t.s,t.l,t.opacity);if(t instanceof oe||(t=wt(t)),!t)return new Z;if(t instanceof Z)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Z(a,s,c,t.opacity)}function $a(t,e,n,r){return arguments.length===1?Pr(t):new Z(t,e,n,r??1)}function Z(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dn(Z,$a,Rr(oe,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new Z(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jt:Math.pow(Jt,t),new Z(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new U(Xe(t>=240?t-240:t+120,i,r),Xe(t,i,r),Xe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Z(Yn(this.h),pe(this.s),pe(this.l),Ne(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ne(this.opacity);return`${t===1?"hsl(":"hsla("}${Yn(this.h)}, ${pe(this.s)*100}%, ${pe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Yn(t){return t=(t||0)%360,t<0?t+360:t}function pe(t){return Math.max(0,Math.min(1,t||0))}function Xe(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Sa(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Ca(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Sa((n-r/e)*e,a,i,o,s)}}const pn=t=>()=>t;function Ia(t,e){return function(n){return t+n*e}}function Da(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ta(t){return(t=+t)==1?qr:function(e,n){return n-e?Da(e,n,t):pn(isNaN(e)?n:e)}}function qr(t,e){var n=e-t;return n?Ia(t,n):pn(isNaN(t)?e:t)}const jt=function t(e){var n=Ta(e);function r(i,o){var a=n((i=Ee(i)).r,(o=Ee(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),l=qr(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=c(h),i.opacity=l(h),i+""}}return r.gamma=t,r}(1);function Fa(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Ee(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(c){return s.r=r(c),s.g=i(c),s.b=o(c),s+""}}}var Ra=Fa(Ca);function Pa(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function qa(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function za(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Fe(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Va(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function K(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ha(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fe(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var je=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ue=new RegExp(je.source,"g");function Oa(t){return function(){return t}}function La(t){return function(e){return t(e)+""}}function zr(t,e){var n=je.lastIndex=Ue.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=je.exec(t))&&(i=Ue.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:K(r,i)})),n=Ue.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?La(c[0].x):Oa(e):(e=c.length,function(l){for(var h=0,f;h<e;++h)s[(f=c[h]).i]=f.x(l);return s.join("")})}function Fe(t,e){var n=typeof e,r;return e==null||n==="boolean"?pn(e):(n==="number"?K:n==="string"?(r=wt(e))?(e=r,jt):zr:e instanceof wt?jt:e instanceof Date?Va:qa(e)?Pa:Array.isArray(e)?za:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ha:K)(t,e)}function Vr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Wn=180/Math.PI,tn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hr(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Wn,skewX:Math.atan(c)*Wn,scaleX:a,scaleY:s}}var ge;function Ba(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tn:Hr(e.a,e.b,e.c,e.d,e.e,e.f)}function Xa(t){return t==null||(ge||(ge=document.createElementNS("http://www.w3.org/2000/svg","g")),ge.setAttribute("transform",t),!(t=ge.transform.baseVal.consolidate()))?tn:(t=t.matrix,Hr(t.a,t.b,t.c,t.d,t.e,t.f))}function Or(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,h,f,u,d,p){if(l!==f||h!==u){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:K(l,f)},{i:_-2,x:K(h,u)})}else(f||u)&&d.push("translate("+f+e+u+n)}function a(l,h,f,u){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),u.push({i:f.push(i(f)+"rotate(",null,r)-2,x:K(l,h)})):h&&f.push(i(f)+"rotate("+h+r)}function s(l,h,f,u){l!==h?u.push({i:f.push(i(f)+"skewX(",null,r)-2,x:K(l,h)}):h&&f.push(i(f)+"skewX("+h+r)}function c(l,h,f,u,d,p){if(l!==f||h!==u){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:K(l,f)},{i:_-2,x:K(h,u)})}else(f!==1||u!==1)&&d.push(i(d)+"scale("+f+","+u+")")}return function(l,h){var f=[],u=[];return l=t(l),h=t(h),o(l.translateX,l.translateY,h.translateX,h.translateY,f,u),a(l.rotate,h.rotate,f,u),s(l.skewX,h.skewX,f,u),c(l.scaleX,l.scaleY,h.scaleX,h.scaleY,f,u),l=h=null,function(d){for(var p=-1,_=u.length,m;++p<_;)f[(m=u[p]).i]=m.x(d);return f.join("")}}}var Ua=Or(Ba,"px, ","px)","deg)"),Ya=Or(Xa,", ",")",")"),qt=0,Gt=0,Xt=0,Lr=1e3,$e,Kt,Se=0,bt=0,Re=0,te=typeof performance=="object"&&performance.now?performance:Date,Br=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gn(){return bt||(Br(Wa),bt=te.now()+Re)}function Wa(){bt=0}function Ce(){this._call=this._time=this._next=null}Ce.prototype=Xr.prototype={constructor:Ce,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gn():+n)+(e==null?0:+e),!this._next&&Kt!==this&&(Kt?Kt._next=this:$e=this,Kt=this),this._call=t,this._time=n,en()},stop:function(){this._call&&(this._call=null,this._time=1/0,en())}};function Xr(t,e,n){var r=new Ce;return r.restart(t,e,n),r}function Ga(){gn(),++qt;for(var t=$e,e;t;)(e=bt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qt}function Gn(){bt=(Se=te.now())+Re,qt=Gt=0;try{Ga()}finally{qt=0,Za(),bt=0}}function Ka(){var t=te.now(),e=t-Se;e>Lr&&(Re-=e,Se=t)}function Za(){for(var t,e=$e,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:$e=n);Kt=t,en(r)}function en(t){if(!qt){Gt&&(Gt=clearTimeout(Gt));var e=t-bt;e>24?(t<1/0&&(Gt=setTimeout(Gn,t-te.now()-Re)),Xt&&(Xt=clearInterval(Xt))):(Xt||(Se=te.now(),Xt=setInterval(Ka,Lr)),qt=1,Br(Gn))}}function Kn(t,e,n){var r=new Ce;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ja=xr("start","end","cancel","interrupt"),Qa=[],Ur=0,Zn=1,nn=2,be=3,Jn=4,rn=5,xe=6;function Pe(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ja(t,n,{name:e,index:r,group:i,on:Ja,tween:Qa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ur})}function mn(t,e){var n=Q(t,e);if(n.state>Ur)throw new Error("too late; already scheduled");return n}function nt(t,e){var n=Q(t,e);if(n.state>be)throw new Error("too late; already running");return n}function Q(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ja(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Xr(o,0,n.time);function o(l){n.state=Zn,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var h,f,u,d;if(n.state!==Zn)return c();for(h in r)if(d=r[h],d.name===n.name){if(d.state===be)return Kn(a);d.state===Jn?(d.state=xe,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[h]):+h<e&&(d.state=xe,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[h])}if(Kn(function(){n.state===be&&(n.state=Jn,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=nn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===nn){for(n.state=be,i=new Array(u=n.tween.length),h=0,f=-1;h<u;++h)(d=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function s(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=rn,1),f=-1,u=i.length;++f<u;)i[f].call(t,h);n.state===rn&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=xe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ts(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>nn&&r.state<rn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function es(t){return this.each(function(){ts(this,t)})}function ns(t,e){var n,r;return function(){var i=nt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function rs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=nt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function is(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Q(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?ns:rs)(n,t,e))}function _n(t,e,n){var r=t._id;return t.each(function(){var i=nt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Q(i,r).value[e]}}function Yr(t,e){var n;return(typeof e=="number"?K:e instanceof wt?jt:(n=wt(e))?(e=n,jt):zr)(t,e)}function os(t){return function(){this.removeAttribute(t)}}function as(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ss(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function ls(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function cs(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function fs(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function us(t,e){var n=Te(t),r=n==="transform"?Ya:Yr;return this.attrTween(t,typeof e=="function"?(n.local?fs:cs)(n,r,_n(this,"attr."+t,e)):e==null?(n.local?as:os)(n):(n.local?ls:ss)(n,r,e))}function hs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ds(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ps(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ds(t,o)),n}return i._value=e,i}function gs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&hs(t,o)),n}return i._value=e,i}function ms(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Te(t);return this.tween(n,(r.local?ps:gs)(r,e))}function _s(t,e){return function(){mn(this,t).delay=+e.apply(this,arguments)}}function vs(t,e){return e=+e,function(){mn(this,t).delay=e}}function ys(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_s:vs)(e,t)):Q(this.node(),e).delay}function ws(t,e){return function(){nt(this,t).duration=+e.apply(this,arguments)}}function bs(t,e){return e=+e,function(){nt(this,t).duration=e}}function xs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ws:bs)(e,t)):Q(this.node(),e).duration}function ks(t,e){if(typeof e!="function")throw new Error;return function(){nt(this,t).ease=e}}function As(t){var e=this._id;return arguments.length?this.each(ks(e,t)):Q(this.node(),e).ease}function Ms(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;nt(this,t).ease=n}}function Es(t){if(typeof t!="function")throw new Error;return this.each(Ms(this._id,t))}function Ns(t){typeof t!="function"&&(t=Er(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&s.push(c);return new ct(r,this._parents,this._name,this._id)}function $s(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),u,d=0;d<h;++d)(u=c[d]||l[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new ct(a,this._parents,this._name,this._id)}function Ss(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Cs(t,e,n){var r,i,o=Ss(e)?mn:nt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Is(t,e){var n=this._id;return arguments.length<2?Q(this.node(),n).on.on(t):this.each(Cs(n,t,e))}function Ds(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ts(){return this.on("end.remove",Ds(this._id))}function Fs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,l=o[a]=new Array(c),h,f,u=0;u<c;++u)(h=s[u])&&(f=t.call(h,h.__data__,u,s))&&("__data__"in h&&(f.__data__=h.__data__),l[u]=f,Pe(l[u],e,n,u,l,Q(h,n)));return new ct(o,this._parents,e,n)}function Rs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mr(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],l=c.length,h,f=0;f<l;++f)if(h=c[f]){for(var u=t.call(h,h.__data__,f,c),d,p=Q(h,n),_=0,m=u.length;_<m;++_)(d=u[_])&&Pe(d,e,n,_,u,p);o.push(u),a.push(h)}return new ct(o,a,e,n)}var Ps=ie.prototype.constructor;function qs(){return new Ps(this._groups,this._parents)}function zs(t,e){var n,r,i;return function(){var o=Pt(this,t),a=(this.style.removeProperty(t),Pt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Wr(t){return function(){this.style.removeProperty(t)}}function Vs(t,e,n){var r,i=n+"",o;return function(){var a=Pt(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Hs(t,e,n){var r,i,o;return function(){var a=Pt(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),Pt(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}function Os(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var c=nt(this,t),l=c.on,h=c.value[o]==null?s||(s=Wr(e)):void 0;(l!==n||i!==h)&&(r=(n=l).copy()).on(a,i=h),c.on=r}}function Ls(t,e,n){var r=(t+="")=="transform"?Ua:Yr;return e==null?this.styleTween(t,zs(t,r)).on("end.style."+t,Wr(t)):typeof e=="function"?this.styleTween(t,Hs(t,r,_n(this,"style."+t,e))).each(Os(this._id,t)):this.styleTween(t,Vs(t,r,e),n).on("end.style."+t,null)}function Bs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Xs(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Bs(t,a,n)),r}return o._value=e,o}function Us(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Xs(t,e,n??""))}function Ys(t){return function(){this.textContent=t}}function Ws(t){return function(){var e=t(this);this.textContent=e??""}}function Gs(t){return this.tween("text",typeof t=="function"?Ws(_n(this,"text",t)):Ys(t==null?"":t+""))}function Ks(t){return function(e){this.textContent=t.call(this,e)}}function Zs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ks(i)),e}return r._value=t,r}function Js(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zs(t))}function Qs(){for(var t=this._name,e=this._id,n=Gr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)if(c=a[l]){var h=Q(c,e);Pe(c,t,n,l,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ct(r,this._parents,t,n)}function js(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var l=nt(this,r),h=l.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),l.on=e}),i===0&&o()})}var tl=0;function ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gr(){return++tl}var it=ie.prototype;ct.prototype={constructor:ct,select:Fs,selectAll:Rs,selectChild:it.selectChild,selectChildren:it.selectChildren,filter:Ns,merge:$s,selection:qs,transition:Qs,call:it.call,nodes:it.nodes,node:it.node,size:it.size,empty:it.empty,each:it.each,on:Is,attr:us,attrTween:ms,style:Ls,styleTween:Us,text:Gs,textTween:Js,remove:Ts,tween:is,delay:ys,duration:xs,ease:As,easeVarying:Es,end:js,[Symbol.iterator]:it[Symbol.iterator]};function el(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var nl={time:null,delay:0,duration:250,ease:el};function rl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function il(t){var e,n;t instanceof ct?(e=t._id,t=t._name):(e=Gr(),(n=nl).time=gn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&Pe(c,t,e,l,a,n||rl(c,e));return new ct(r,this._parents,t,e)}ie.prototype.interrupt=es;ie.prototype.transition=il;var Qn={},Ye={},We=34,Ut=10,Ge=13;function Kr(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function ol(t,e){var n=Kr(t);return function(r,i){return e(n(r),i,t)}}function jn(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function X(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function al(t){return t<0?"-"+X(-t,6):t>9999?"+"+X(t,6):X(t,4)}function sl(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":al(t.getUTCFullYear())+"-"+X(t.getUTCMonth()+1,2)+"-"+X(t.getUTCDate(),2)+(i?"T"+X(e,2)+":"+X(n,2)+":"+X(r,2)+"."+X(i,3)+"Z":r?"T"+X(e,2)+":"+X(n,2)+":"+X(r,2)+"Z":n||e?"T"+X(e,2)+":"+X(n,2)+"Z":"")}function ll(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(f,u){var d,p,_=i(f,function(m,v){if(d)return d(m,v-1);p=m,d=u?ol(m,u):Kr(m)});return _.columns=p||[],_}function i(f,u){var d=[],p=f.length,_=0,m=0,v,b=p<=0,g=!1;f.charCodeAt(p-1)===Ut&&--p,f.charCodeAt(p-1)===Ge&&--p;function C(){if(b)return Ye;if(g)return g=!1,Qn;var I,F=_,R;if(f.charCodeAt(F)===We){for(;_++<p&&f.charCodeAt(_)!==We||f.charCodeAt(++_)===We;);return(I=_)>=p?b=!0:(R=f.charCodeAt(_++))===Ut?g=!0:R===Ge&&(g=!0,f.charCodeAt(_)===Ut&&++_),f.slice(F+1,I-1).replace(/""/g,'"')}for(;_<p;){if((R=f.charCodeAt(I=_++))===Ut)g=!0;else if(R===Ge)g=!0,f.charCodeAt(_)===Ut&&++_;else if(R!==n)continue;return f.slice(F,I)}return b=!0,f.slice(F,p)}for(;(v=C())!==Ye;){for(var A=[];v!==Qn&&v!==Ye;)A.push(v),v=C();u&&(A=u(A,m++))==null||d.push(A)}return d}function o(f,u){return f.map(function(d){return u.map(function(p){return h(d[p])}).join(t)})}function a(f,u){return u==null&&(u=jn(f)),[u.map(h).join(t)].concat(o(f,u)).join(`
`)}function s(f,u){return u==null&&(u=jn(f)),o(f,u).join(`
`)}function c(f){return f.map(l).join(`
`)}function l(f){return f.map(h).join(t)}function h(f){return f==null?"":f instanceof Date?sl(f):e.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:c,formatRow:l,formatValue:h}}var cl=ll(","),qe=cl.parse;function fl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ie(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zt(t){return t=Ie(Math.abs(t)),t?t[1]:NaN}function ul(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function hl(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function De(t){if(!(e=dl.exec(t)))throw new Error("invalid format: "+t);var e;return new vn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}De.prototype=vn.prototype;function vn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pl(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Zr;function gl(t,e){var n=Ie(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Zr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ie(t,Math.max(0,e+o-1))[0]}function tr(t,e){var n=Ie(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const er={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tr(t*100,e),r:tr,s:gl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nr(t){return t}var rr=Array.prototype.map,ir=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ml(t){var e=t.grouping===void 0||t.thousands===void 0?nr:ul(rr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?nr:hl(rr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(f){f=De(f);var u=f.fill,d=f.align,p=f.sign,_=f.symbol,m=f.zero,v=f.width,b=f.comma,g=f.precision,C=f.trim,A=f.type;A==="n"?(b=!0,A="g"):er[A]||(g===void 0&&(g=12),C=!0,A="g"),(m||u==="0"&&d==="=")&&(m=!0,u="0",d="=");var I=_==="$"?n:_==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",F=_==="$"?r:/[%p]/.test(A)?a:"",R=er[A],H=/[defgprs%]/.test(A);g=g===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function S(x){var q=I,P=F,O,Et,Y;if(A==="c")P=R(x)+P,x="";else{x=+x;var G=x<0||1/x<0;if(x=isNaN(x)?c:R(Math.abs(x),g),C&&(x=pl(x)),G&&+x==0&&p!=="+"&&(G=!1),q=(G?p==="("?p:s:p==="-"||p==="("?"":p)+q,P=(A==="s"?ir[8+Zr/3]:"")+P+(G&&p==="("?")":""),H){for(O=-1,Et=x.length;++O<Et;)if(Y=x.charCodeAt(O),48>Y||Y>57){P=(Y===46?i+x.slice(O+1):x.slice(O))+P,x=x.slice(0,O);break}}}b&&!m&&(x=e(x,1/0));var B=q.length+x.length+P.length,W=B<v?new Array(v-B+1).join(u):"";switch(b&&m&&(x=e(W+x,W.length?v-P.length:1/0),W=""),d){case"<":x=q+x+P+W;break;case"=":x=q+W+x+P;break;case"^":x=W.slice(0,B=W.length>>1)+q+x+P+W.slice(B);break;default:x=W+q+x+P;break}return o(x)}return S.toString=function(){return f+""},S}function h(f,u){var d=l((f=De(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(zt(u)/3)))*3,_=Math.pow(10,-p),m=ir[8+p/3];return function(v){return d(_*v)+m}}return{format:l,formatPrefix:h}}var me,Jr,Qr;_l({thousands:",",grouping:[3],currency:["$",""]});function _l(t){return me=ml(t),Jr=me.format,Qr=me.formatPrefix,me}function vl(t){return Math.max(0,-zt(Math.abs(t)))}function yl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zt(e)/3)))*3-zt(Math.abs(t)))}function wl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zt(e)-zt(t))+1}function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function bl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const or=Symbol("implicit");function wn(){var t=new Ke,e=[],n=[],r=or;function i(o){let a=t.get(o);if(a===void 0){if(r!==or)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ke;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wn(e,n).unknown(r)},yn.apply(i,arguments),i}function bn(){var t=wn().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,c=0,l=0,h=.5;delete t.unknown;function f(){var u=e().length,d=i<r,p=d?i:r,_=d?r:i;o=(_-p)/Math.max(1,u-c+l*2),s&&(o=Math.floor(o)),p+=(_-p-o*(u-c))*h,a=o*(1-c),s&&(p=Math.round(p),a=Math.round(a));var m=$i(u).map(function(v){return p+o*v});return n(d?m.reverse():m)}return t.domain=function(u){return arguments.length?(e(u),f()):e()},t.range=function(u){return arguments.length?([r,i]=u,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(u){return[r,i]=u,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(u){return arguments.length?(s=!!u,f()):s},t.padding=function(u){return arguments.length?(c=Math.min(1,l=+u),f()):c},t.paddingInner=function(u){return arguments.length?(c=Math.min(1,u),f()):c},t.paddingOuter=function(u){return arguments.length?(l=+u,f()):l},t.align=function(u){return arguments.length?(h=Math.max(0,Math.min(1,u)),f()):h},t.copy=function(){return bn(e(),[r,i]).round(s).paddingInner(c).paddingOuter(l).align(h)},yn.apply(f(),arguments)}function xl(t){return function(){return t}}function kl(t){return+t}var ar=[0,1];function gt(t){return t}function on(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xl(isNaN(e)?NaN:.5)}function Al(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ml(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=on(i,r),o=n(a,o)):(r=on(r,i),o=n(o,a)),function(s){return o(r(s))}}function El(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=on(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var c=mi(t,s,1,r)-1;return o[c](i[c](s))}}function Nl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $l(){var t=ar,e=ar,n=Fe,r,i,o,a=gt,s,c,l;function h(){var u=Math.min(t.length,e.length);return a!==gt&&(a=Al(t[0],t[u-1])),s=u>2?El:Ml,c=l=null,f}function f(u){return u==null||isNaN(u=+u)?o:(c||(c=s(t.map(r),e,n)))(r(a(u)))}return f.invert=function(u){return a(i((l||(l=s(e,t.map(r),K)))(u)))},f.domain=function(u){return arguments.length?(t=Array.from(u,kl),h()):t.slice()},f.range=function(u){return arguments.length?(e=Array.from(u),h()):e.slice()},f.rangeRound=function(u){return e=Array.from(u),n=Vr,h()},f.clamp=function(u){return arguments.length?(a=u?!0:gt,h()):a!==gt},f.interpolate=function(u){return arguments.length?(n=u,h()):n},f.unknown=function(u){return arguments.length?(o=u,f):o},function(u,d){return r=u,i=d,h()}}function Sl(){return $l()(gt,gt)}function Cl(t,e,n,r){var i=Ni(t,e,n),o;switch(r=De(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=yl(i,a))&&(r.precision=o),Qr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=wl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=vl(i))&&(r.precision=o-(r.type==="%")*2);break}}return Jr(r)}function jr(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ei(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Cl(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c,l,h=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);h-- >0;){if(l=Ze(a,s,n),l===c)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function xt(){var t=Sl();return t.copy=function(){return Nl(t,xt())},yn.apply(t,arguments),jr(t)}function Il(){var t=0,e=1,n,r,i,o,a=gt,s=!1,c;function l(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(f){return arguments.length?(s=!!f,l):s},l.interpolator=function(f){return arguments.length?(a=f,l):a};function h(f){return function(u){var d,p;return arguments.length?([d,p]=u,a=f(d,p),l):[a(0),a(1)]}}return l.range=h(Fe),l.rangeRound=h(Vr),l.unknown=function(f){return arguments.length?(c=f,l):c},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),l}}function Dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ti(){var t=jr(Il()(gt));return t.copy=function(){return Dl(t,ti())},bl.apply(t,arguments)}function Tl(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Fl=t=>Ra(t[t.length-1]);var Rl=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Tl);const Pl=Fl(Rl);function _e(t){return function(){return t}}function ql(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function an(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sn(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zl(t,e){return t[e]}function Vl(t){const e=[];return e.key=t,e}function Hl(){var t=_e([]),e=sn,n=an,r=zl;function i(o){var a=Array.from(t.apply(this,arguments),Vl),s,c=a.length,l=-1,h;for(const f of o)for(s=0,++l;s<c;++s)(a[s][l]=[0,+r(f,a[s].key,l,o)]).data=f;for(s=0,h=ql(e(a));s<c;++s)a[h[s]].index=s;return n(a,h),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:_e(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:_e(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?sn:typeof o=="function"?o:_e(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??an,i):n},i}function Zt(t,e,n){this.k=t,this.x=e,this.y=n}Zt.prototype={constructor:Zt,scale:function(t){return t===1?this:new Zt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Zt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Zt.prototype;function sr(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function lr(t){let e,n,r,i,o;return{c(){e=ne("circle"),this.h()},l(a){e=re(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),M(e).forEach(y),this.h()},h(){w(e,"cx",n=t[3](t[16]%t[2])),w(e,"cy",r=t[4](Math.floor(t[16]/t[2]))),w(e,"r",i=t[5]/2),w(e,"fill",o=t[14].color)},m(a,s){T(a,e,s)},p(a,s){s&12&&n!==(n=a[3](a[16]%a[2]))&&w(e,"cx",n),s&20&&r!==(r=a[4](Math.floor(a[16]/a[2])))&&w(e,"cy",r),s&32&&i!==(i=a[5]/2)&&w(e,"r",i),s&64&&o!==(o=a[14].color)&&w(e,"fill",o)},d(a){a&&y(e)}}}function Ol(t){let e,n,r,i,o=t[6],a=[];for(let s=0;s<o.length;s+=1)a[s]=lr(sr(t,o,s));return{c(){e=N("div"),n=ne("svg");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=$(s,"DIV",{class:!0});var c=M(e);n=re(c,"svg",{width:!0,height:!0});var l=M(n);for(let h=0;h<a.length;h+=1)a[h].l(l);l.forEach(y),c.forEach(y),this.h()},h(){w(n,"width",r=t[0]+t[7].right+t[7].left),w(n,"height",t[1]),w(e,"class","chart-container svelte-1yh7qy7"),ln(()=>t[9].call(e))},m(s,c){T(s,e,c),E(e,n);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(n,null);i=cn(e,t[9].bind(e))},p(s,[c]){if(c&124){o=s[6];let l;for(l=0;l<o.length;l+=1){const h=sr(s,o,l);a[l]?a[l].p(h,c):(a[l]=lr(h),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}c&1&&r!==(r=s[0]+s[7].right+s[7].left)&&w(n,"width",r),c&2&&w(n,"height",s[1])},i:J,o:J,d(s){s&&y(e),Vt(a,s),i()}}}let Ll="src/EFSA Colombiana_dataset_2022.csv";function Bl(t,e,n){let{step:r}=e,i,o;const a={top:30,bottom:30,left:30,right:30};let s=[],c,l,h,f,u=[];ee(async()=>{try{const b=await(await fetch(Ll)).text();s=qe(b).map(g=>({students_in_hh:g.nr_escuela_colegio==="_"?0:+g.nr_escuela_colegio,recieves_meal_plan:g.nr_PAE==="_"?0:+g.nr_PAE,color:"black"})),s=s.sort((g,C)=>C.students_in_hh-g.students_in_hh).sort((g,C)=>C.recieves_meal_plan-g.recieves_meal_plan)}catch(v){console.error(v)}});function d(v){n(2,c=Math.ceil(Math.sqrt(v)));let b=Math.ceil(v/c),g=10;n(5,f=Math.min((i-(c+1)*g)/c,Math.min((o-(b+1)*g)/b,100))),f<0?n(5,f=6):n(5,f=8),n(3,l=xt().domain([0,c-1]).range([g,i-g-f])),n(4,h=xt().domain([0,b-1]).range([g,o-g-f]))}function p(v){if(v==0){s.forEach(g=>{g.color="gray"}),u=s;let b=u.length;d(b)}if(v==1){s.forEach(g=>{g.color=g.students_in_hh>0?"#0595b3":"gray"}),u=s;let b=u.length;d(b)}if(v==2){s.forEach(g=>{g.color=g.students_in_hh>0?g.recieves_meal_plan>0?"#A491D3":"#0595b3":"gray"}),u=s;let b=u.length;d(b)}if(v==3){s.forEach(g=>{g.color=g.recieves_meal_plan>0?"#A491D3":"#f9f5f1"}),u=s;let b=u.length;d(b)}if(v==4){u=s.filter(g=>g.recieves_meal_plan>0);let b=u.length;d(b)}n(6,_=[...u])}let _=s;function m(){i=this.offsetWidth,o=this.offsetHeight,n(0,i),n(1,o)}return t.$$set=v=>{"step"in v&&n(8,r=v.step)},t.$$.update=()=>{t.$$.dirty&256&&p(r)},[i,o,c,l,h,f,_,a,r,m]}class Xl extends kt{constructor(e){super(),At(this,e,Bl,Ol,Mt,{step:8})}}function Ul(t){let e;return{c(){e=N("div"),this.h()},l(n){e=$(n,"DIV",{class:!0});var r=M(e);r.forEach(y),this.h()},h(){w(e,"class","bar-chart-container svelte-kz72bv")},m(n,r){T(n,e,r)},p:J,i:J,o:J,d(n){n&&y(e)}}}let Yl="src/EFSA Colombiana_dataset_2022.csv";function Wl(t,e,n){let{step:r}=e,i=[],o=[];ee(async()=>{try{const h=await(await fetch(Yl)).text();n(1,i=qe(h).map(f=>({students_in_hh:f.nr_escuela_colegio==="_"?0:+f.nr_escuela_colegio,receives_meal_plan:f.nr_PAE==="_"?0:+f.nr_PAE,buy_less:f.csi_alimentos_menos_preferidos==="_"?0:+f.csi_alimentos_menos_preferidos,borrow_food:f.csi_pedir_prestados_alimentos==="_"?0:+f.csi_pedir_prestados_alimentos,reduce_meals:f.csi_reducir_numero_comidas==="_"?0:+f.csi_reducir_numero_comidas,reduce_portions:f.csi_reducir_tamano_porciones==="_"?0:+f.csi_reducir_tamano_porciones,reduce_adult:f.csi_reducir_adultos==="_"?0:+f.csi_reducir_adultos})).filter(f=>f.students_in_hh>0)),o=bi(i,f=>({proportion:Dt(f,u=>u.receives_meal_plan/u.students_in_hh),buy_less:Dt(f,u=>u.buy_less),borrow_food:Dt(f,u=>u.borrow_food),reduce_meals:Dt(f,u=>u.reduce_meals),reduce_portions:Dt(f,u=>u.reduce_portions),reduce_adult:Dt(f,u=>u.reduce_adult)}),f=>f.students_in_hh),o=Array.from(o,([f,u])=>({students_in_hh:f,...u})),o=o.sort((f,u)=>f.students_in_hh-u.students_in_hh)}catch(l){console.error(l)}function c(){const l={top:30,bottom:30,left:30,right:30},h=600,f=600;let u=we(".bar-chart-container").append("svg").attr("width",f).attr("height",h),d=bn().domain(o.map(_=>_.students_in_hh)).range([l.left,f-l.right]).padding(.4),p=xt().domain([0,1]).range([h-l.bottom,l.top]);u.append("g").attr("transform",`translate(0, ${h-l.bottom})`).call(br(d)),u.append("text").attr("x",f/2).attr("y",p(0)+l.bottom).style("text-anchor","middle").text("Number of Children in Household"),u.append("g").attr("transform",`translate(${l.left}, 0)`).call(Ri(p)),u.append("text").attr("class","y-label").attr("x",-h/2).attr("y",l.left/2).attr("transform","rotate(-90)").style("text-anchor","middle").style("font-family","Arial").text("Proportion of Students Receiving Meal Plan"),u.selectAll(".barChart").data(o).join("rect").attr("class","barChart").attr("x",_=>d(_.students_in_hh)).attr("y",_=>p(_.proportion)).attr("width",d.bandwidth()).attr("height",_=>p(0)-p(_.proportion)).attr("fill","#0595b3").on("mouseover",function(_,m){console.log("Event:",_),console.log("Students in household:",m.students_in_hh),console.log("Proportion receiving meal plan:",m.proportion),console.log("coping:",m.reduce_adult,a(m.reduce_adult))}),u.append("text").attr("x",f/2).attr("y",l.top).style("text-anchor","middle").style("font-weight","bold").text("Proportion of Students Receiving Meal Plan by Number of Children in Household")}c()});var a=ti(Pl).domain([0,7]).interpolator(jt("#FFFFFF","#145e90"));function s(){console.log("step ",r),r==1?zn(".barChart").style("fill",c=>a(c.reduce_adult)):r==0&&zn(".barChart").style("fill","#0595b3")}return t.$$set=c=>{"step"in c&&n(0,r=c.step)},t.$$.update=()=>{t.$$.dirty&3&&(console.log("step ",r),i.length>0&&s())},[r,i]}class Gl extends kt{constructor(e){super(),At(this,e,Wl,Ul,Mt,{step:0})}}function Kl(t){let e,n,r,i,o,a,s,c,l,h,f,u,d,p,_;return{c(){e=N("div"),n=ne("svg"),i=z(),o=N("input"),a=z(),s=N("label"),c=Tt("Vegetables"),l=z(),h=N("br"),f=z(),u=N("input"),d=z(),p=N("label"),_=Tt("Meat"),this.h()},l(m){e=$(m,"DIV",{class:!0});var v=M(e);n=re(v,"svg",{width:!0,height:!0,viewBox:!0,class:!0}),M(n).forEach(y),v.forEach(y),i=V(m),o=$(m,"INPUT",{type:!0,name:!0,id:!0}),a=V(m),s=$(m,"LABEL",{for:!0});var b=M(s);c=Ft(b,"Vegetables"),b.forEach(y),l=V(m),h=$(m,"BR",{}),f=V(m),u=$(m,"INPUT",{type:!0,name:!0,id:!0}),d=V(m),p=$(m,"LABEL",{for:!0});var g=M(p);_=Ft(g,"Meat"),g.forEach(y),this.h()},h(){w(n,"width","100%"),w(n,"height","auto"),w(n,"viewBox","0 0 130 48"),w(n,"class","svelte-oi4g1v"),w(e,"class","chart-container-bars svelte-oi4g1v"),ln(()=>t[3].call(e)),w(o,"type","radio"),w(o,"name","food_group"),o.value="vegetables",w(o,"id","vegetables"),o.checked="checked",w(s,"for","vegetables"),w(u,"type","radio"),w(u,"name","food_group"),u.value="meat",w(u,"id","meat"),w(p,"for","meat")},m(m,v){T(m,e,v),E(e,n),r=cn(e,t[3].bind(e)),T(m,i,v),T(m,o,v),T(m,a,v),T(m,s,v),E(s,c),T(m,l,v),T(m,h,v),T(m,f,v),T(m,u,v),T(m,d,v),T(m,p,v),E(p,_)},p:J,i:J,o:J,d(m){m&&y(e),r(),m&&y(i),m&&y(o),m&&y(a),m&&y(s),m&&y(l),m&&y(h),m&&y(f),m&&y(u),m&&y(d),m&&y(p)}}}let Zl="src/EFSA Colombiana_dataset_2022.csv";function Jl(t,e,n){let{step:r}=e,i,o,a=[];const s={total:{poor:0,borderline:0,acceptable:0},meat:{poor:{rarely:0,sometimes:0,often:0},borderline:{rarely:0,sometimes:0,often:0},acceptable:{rarely:0,sometimes:0,often:0}},vegetables:{poor:{rarely:0,sometimes:0,often:0},borderline:{rarely:0,sometimes:0,often:0},acceptable:{rarely:0,sometimes:0,often:0}}};ee(async()=>{try{let f=function(p,_,m=!1){if(m==!1)switch(_){case"acceptable":p.acceptable+=1;break;case"borderline":p.borderline+=1;break;default:p.poor+=1;break}else switch(m){case"often":p[_].often+=1;break;case"sometimes":p[_].sometimes+=1;break;default:p[_].rarely+=1;break}},u=function(p){return[{bracket:"Acceptable",poor:s[p].acceptable.rarely/s.total.acceptable,borderline:s[p].acceptable.sometimes/s.total.acceptable,acceptable:s[p].acceptable.often/s.total.acceptable},{bracket:"Borderline",poor:s[p].borderline.rarely/s.total.borderline,borderline:s[p].borderline.sometimes/s.total.borderline,acceptable:s[p].borderline.often/s.total.borderline},{bracket:"Poor",poor:s[p].poor.rarely/s.total.poor,borderline:s[p].poor.sometimes/s.total.poor,acceptable:s[p].poor.often/s.total.poor}]},d=function(p){let _=u(p);console.log("The data being used: ",_);let m=we(".chart-container-bars svg");m.selectAll("*").remove();let v=Hl().keys(["poor","borderline","acceptable"]).order(sn).offset(an)(_),b=bn().domain(_.map(S=>S.bracket)).range([0,130]).padding(.4),g=xt().domain([0,Fn(v,S=>Fn(S,x=>x[1]))]).range([60,0]),C=["#d8b365","#63cfae","#328fcf"],A=wn().domain(["poor","borderline","acceptable"]).range(C);m.selectAll("g").data(v).enter().append("g").attr("fill",S=>A(S.key)).selectAll("rect").data(S=>S).enter().append("rect").attr("x",S=>b(S.data.bracket)).attr("y",S=>g(S[1])).attr("height",S=>g(S[0])-g(S[1])).attr("width",b.bandwidth()).on("mouseover",function(S){we(this).transition().duration("400").attr("opacity",".80")}).on("mouseout",function(){we(this).transition().duration("400").attr("opacity","1")}),m.append("g").attr("transform","translate(0, 58)").call(br(b)).selectAll("text").style("font-size","3.0px").attr("y",5).style("fill","#333333").style("font-family","Arial").style("font-weight","bold").attr("text-anchor","middle"),m.selectAll(".domain, .tick line").remove();let I=-16,F=2,R=3.3,H=1.1;m.append("rect").attr("x",100).attr("y",I).attr("font","sans-serif").attr("width",F).attr("height",F).style("fill",C[2]),m.append("text").attr("x",104).attr("y",I+H).attr("alignment-baseline","middle").text("6 - 7 days").style("font-size","2.3px").style("fill","#444444").style("font-family",'"Open Sans", sans-serif'),m.append("rect").attr("x",100).attr("y",I+R).attr("font","sans-serif").attr("width",F).attr("height",F).style("fill",C[1]),m.append("text").attr("x",104).attr("y",I+R+H).attr("alignment-baseline","middle").text("3 - 5 days").style("font-size","2.3px").style("fill","#444444").style("font-family",'"Open Sans", sans-serif'),m.append("rect").attr("x",100).attr("y",I+2*R).attr("font","sans-serif").attr("width",F).attr("height",F).style("fill",C[0]),m.append("text").attr("x",104).attr("y",I+2*R+H).attr("alignment-baseline","middle").text("0 - 2 days").style("font-size","2.3px").style("fill","#444444").style("font-family",'"Open Sans", sans-serif')};const h=await(await fetch(Zl)).text();a=qe(h).map(p=>({fcs_score:p.fcs==="_"?0:+p.fcs,fcs_carne:p.fcs_carne==="_"?0:+p.fcs_carne,fcs_vegetales:p.fcs_vegetales==="_"?0:+p.fcs_vegetales,recieves_meal_plan:p.nr_PAE==="_"?0:+p.nr_PAE,fcs_status:null,fcs_status_meat:null,fcs_status_vegetables:null})),a.forEach(p=>{p.fcs_status=p.fcs_score>21?p.fcs_score>35?"acceptable":"borderline":"poor",f(s.total,p.fcs_status),p.fcs_status_meat=p.fcs_carne>3?p.fcs_carne>5?"often":"sometimes":"rarely",f(s.meat,p.fcs_status,p.fcs_status_meat),p.fcs_status_vegetables=p.fcs_vegetales>3?p.fcs_vegetales>5?"often":"sometimes":"rarely",f(s.vegetables,p.fcs_status,p.fcs_status_vegetables)}),d("vegetables"),document.querySelectorAll('input[type="radio"]').forEach(function(p){p.addEventListener("change",function(_){d(_.target.value)})})}catch(l){console.error(l)}});function c(){i=this.offsetWidth,o=this.offsetHeight,n(0,i),n(1,o)}return t.$$set=l=>{"step"in l&&n(2,r=l.step)},[i,o,r,c]}class Ql extends kt{constructor(e){super(),At(this,e,Jl,Kl,Mt,{step:2})}}function cr(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function fr(t){let e,n,r,i,o;return{c(){e=ne("circle"),this.h()},l(a){e=re(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),M(e).forEach(y),this.h()},h(){w(e,"cx",n=t[3](t[16]%t[2])),w(e,"cy",r=t[4](Math.floor(t[16]/t[2]))),w(e,"r",i=t[5]/2),w(e,"fill",o=t[14].color)},m(a,s){T(a,e,s)},p(a,s){s&12&&n!==(n=a[3](a[16]%a[2]))&&w(e,"cx",n),s&20&&r!==(r=a[4](Math.floor(a[16]/a[2])))&&w(e,"cy",r),s&32&&i!==(i=a[5]/2)&&w(e,"r",i),s&64&&o!==(o=a[14].color)&&w(e,"fill",o)},d(a){a&&y(e)}}}function jl(t){let e,n,r,i,o=t[6],a=[];for(let s=0;s<o.length;s+=1)a[s]=fr(cr(t,o,s));return{c(){e=N("div"),n=ne("svg");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=$(s,"DIV",{class:!0});var c=M(e);n=re(c,"svg",{width:!0,height:!0});var l=M(n);for(let h=0;h<a.length;h+=1)a[h].l(l);l.forEach(y),c.forEach(y),this.h()},h(){w(n,"width",r=t[0]+t[7].right+t[7].left),w(n,"height",t[1]),w(e,"class","chart-container svelte-flyrlb"),ln(()=>t[9].call(e))},m(s,c){T(s,e,c),E(e,n);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(n,null);i=cn(e,t[9].bind(e))},p(s,[c]){if(c&124){o=s[6];let l;for(l=0;l<o.length;l+=1){const h=cr(s,o,l);a[l]?a[l].p(h,c):(a[l]=fr(h),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}c&1&&r!==(r=s[0]+s[7].right+s[7].left)&&w(n,"width",r),c&2&&w(n,"height",s[1])},i:J,o:J,d(s){s&&y(e),Vt(a,s),i()}}}let tc="src/EFSA Colombiana_dataset_2022.csv";function ec(t,e,n){let{step:r}=e,i,o;const a={top:30,bottom:30,left:30,right:30};let s=[],c,l,h,f,u=[];ee(async()=>{try{const b=await(await fetch(tc)).text();s=qe(b).map(g=>({students_in_hh:g.nr_escuela_colegio==="_"?0:+g.nr_escuela_colegio,recieves_meal_plan:g.nr_PAE==="_"?0:+g.nr_PAE,fcs_score:g.fcs==="_"?0:+g.fcs,color:"black"})).filter(g=>g.recieves_meal_plan!==0),s=s.sort((g,C)=>C.fcs_score-g.fcs_score),console.log(s)}catch(v){console.error(v)}});function d(v){n(2,c=Math.ceil(Math.sqrt(v)));let b=Math.ceil(v/c),g=10;n(5,f=Math.min((i-(c+1)*g)/c,Math.min((o-(b+1)*g)/b,100))),f<0?n(5,f=5):n(5,f=8),n(3,l=xt().domain([0,c-1]).range([g,i-g-f])),n(4,h=xt().domain([0,b-1]).range([g,o-g-f]))}function p(v){if(v==0){s.forEach(g=>{g.color="#A491D3"}),u=s;let b=u.length;d(b)}if(v==1){s.forEach(g=>{g.color=g.fcs_score>21?g.fcs_score>35?"#54ae89":"#fcb44c":"#f46c6c"}),u=s;let b=u.length;d(b)}n(6,_=[...u])}let _=s;function m(){i=this.offsetWidth,o=this.offsetHeight,n(0,i),n(1,o)}return t.$$set=v=>{"step"in v&&n(8,r=v.step)},t.$$.update=()=>{t.$$.dirty&256&&p(r)},[i,o,c,l,h,f,_,a,r,m]}class nc extends kt{constructor(e){super(),At(this,e,ec,jl,Mt,{step:8})}}function ur(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function hr(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function dr(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function pr(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function gr(t){let e,n,r=t[10]+"";return{c(){e=N("div"),n=N("div"),this.h()},l(i){e=$(i,"DIV",{class:!0});var o=M(e);n=$(o,"DIV",{class:!0});var a=M(n);a.forEach(y),o.forEach(y),this.h()},h(){w(n,"class","step-content svelte-k0wqio"),w(e,"class","step svelte-k0wqio"),mt(e,"active",t[0]===t[12])},m(i,o){T(i,e,o),E(e,n),n.innerHTML=r},p(i,o){o&1&&mt(e,"active",i[0]===i[12])},d(i){i&&y(e)}}}function rc(t){let e,n,r=t[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=gr(pr(t,r,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=z(),n=N("div"),this.h()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=V(o),n=$(o,"DIV",{class:!0}),M(n).forEach(y),this.h()},h(){w(n,"class","spacer svelte-k0wqio")},m(o,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,a);T(o,e,a),T(o,n,a)},p(o,a){if(a&3){r=o[1];let s;for(s=0;s<r.length;s+=1){const c=pr(o,r,s);i[s]?i[s].p(c,a):(i[s]=gr(c),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(o){Vt(i,o),o&&y(e),o&&y(n)}}}function mr(t){let e,n,r=t[10]+"";return{c(){e=N("div"),n=N("div"),this.h()},l(i){e=$(i,"DIV",{class:!0});var o=M(e);n=$(o,"DIV",{class:!0});var a=M(n);a.forEach(y),o.forEach(y),this.h()},h(){w(n,"class","step-content svelte-k0wqio"),w(e,"class","step svelte-k0wqio"),mt(e,"active",t[0]===t[12])},m(i,o){T(i,e,o),E(e,n),n.innerHTML=r},p(i,o){o&1&&mt(e,"active",i[0]===i[12])},d(i){i&&y(e)}}}function ic(t){let e,n,r=t[4],i=[];for(let o=0;o<r.length;o+=1)i[o]=mr(dr(t,r,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=z(),n=N("div"),this.h()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=V(o),n=$(o,"DIV",{class:!0}),M(n).forEach(y),this.h()},h(){w(n,"class","spacer svelte-k0wqio")},m(o,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,a);T(o,e,a),T(o,n,a)},p(o,a){if(a&17){r=o[4];let s;for(s=0;s<r.length;s+=1){const c=dr(o,r,s);i[s]?i[s].p(c,a):(i[s]=mr(c),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(o){Vt(i,o),o&&y(e),o&&y(n)}}}function _r(t){let e,n,r=t[10]+"";return{c(){e=N("div"),n=N("div"),this.h()},l(i){e=$(i,"DIV",{class:!0});var o=M(e);n=$(o,"DIV",{class:!0});var a=M(n);a.forEach(y),o.forEach(y),this.h()},h(){w(n,"class","step-content svelte-k0wqio"),w(e,"class","step svelte-k0wqio"),mt(e,"active",t[0]===t[12])},m(i,o){T(i,e,o),E(e,n),n.innerHTML=r},p(i,o){o&1&&mt(e,"active",i[0]===i[12])},d(i){i&&y(e)}}}function oc(t){let e,n,r=t[2],i=[];for(let o=0;o<r.length;o+=1)i[o]=_r(hr(t,r,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=z(),n=N("div"),this.h()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=V(o),n=$(o,"DIV",{class:!0}),M(n).forEach(y),this.h()},h(){w(n,"class","spacer svelte-k0wqio")},m(o,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,a);T(o,e,a),T(o,n,a)},p(o,a){if(a&5){r=o[2];let s;for(s=0;s<r.length;s+=1){const c=hr(o,r,s);i[s]?i[s].p(c,a):(i[s]=_r(c),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(o){Vt(i,o),o&&y(e),o&&y(n)}}}function vr(t){let e,n,r=t[10]+"";return{c(){e=N("div"),n=N("div"),this.h()},l(i){e=$(i,"DIV",{class:!0});var o=M(e);n=$(o,"DIV",{class:!0});var a=M(n);a.forEach(y),o.forEach(y),this.h()},h(){w(n,"class","step-content svelte-k0wqio"),w(e,"class","step svelte-k0wqio"),mt(e,"active",t[0]===t[12])},m(i,o){T(i,e,o),E(e,n),n.innerHTML=r},p(i,o){o&1&&mt(e,"active",i[0]===i[12])},d(i){i&&y(e)}}}function ac(t){let e,n,r=t[3],i=[];for(let o=0;o<r.length;o+=1)i[o]=vr(ur(t,r,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=z(),n=N("div"),this.h()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=V(o),n=$(o,"DIV",{class:!0}),M(n).forEach(y),this.h()},h(){w(n,"class","spacer svelte-k0wqio")},m(o,a){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,a);T(o,e,a),T(o,n,a)},p(o,a){if(a&9){r=o[3];let s;for(s=0;s<r.length;s+=1){const c=ur(o,r,s);i[s]?i[s].p(c,a):(i[s]=vr(c),i[s].c(),i[s].m(e.parentNode,e))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(o){Vt(i,o),o&&y(e),o&&y(n)}}}function sc(t){let e,n,r,i,o,a,s,c,l,h,f,u,d,p,_,m,v,b,g,C,A,I,F,R,H,S,x,q,P,O,Et,Y,G,B,W,ze,Nt,ft,Ve,ut,$t,rt,He,Oe,St,ht,ae;function ei(k){t[5](k)}let xn={$$slots:{default:[rc]},$$scope:{ctx:t}};t[0]!==void 0&&(xn.value=t[0]),b=new he({props:xn}),Yt.push(()=>fe(b,"value",ei)),I=new Xl({props:{step:t[0]}});function ni(k){t[6](k)}let kn={$$slots:{default:[ic]},$$scope:{ctx:t}};t[0]!==void 0&&(kn.value=t[0]),S=new he({props:kn}),Yt.push(()=>fe(S,"value",ni)),O=new Gl({props:{step:t[0]}});function ri(k){t[7](k)}let An={$$slots:{default:[oc]},$$scope:{ctx:t}};t[0]!==void 0&&(An.value=t[0]),B=new he({props:An}),Yt.push(()=>fe(B,"value",ri)),ft=new nc({props:{step:t[0]}});function ii(k){t[8](k)}let Mn={$$slots:{default:[ac]},$$scope:{ctx:t}};return t[0]!==void 0&&(Mn.value=t[0]),rt=new he({props:Mn}),Yt.push(()=>fe(rt,"value",ii)),ht=new Ql({props:{step:t[0]}}),{c(){e=N("section"),n=N("div"),r=N("h1"),i=Tt("DataPlate"),o=z(),a=N("h2"),s=Tt("Adapting the student meal plan to the needs of the Colombian household!"),c=z(),l=N("div"),h=N("p"),f=Tt("In 2022, the World Food Program (WFP) conducted a food security and nutrition assessment in Colombia. Findings from the report stated that it is critical to maintain and expand emergency assistance to meet the food security needs of the populations identified. The WFP recommended that such assistance should incorporate a nutritional lens to make sure vulnerable groups are able to access a nutritious diet. In this data visualization, we take a look at the food security of households with children with a focus on nutrition."),u=z(),d=N("p"),p=Tt("Scroll down to start."),_=z(),m=N("div"),v=N("div"),ot(b.$$.fragment),C=z(),A=N("div"),ot(I.$$.fragment),F=z(),R=N("div"),H=N("div"),ot(S.$$.fragment),q=z(),P=N("div"),ot(O.$$.fragment),Et=z(),Y=N("div"),G=N("div"),ot(B.$$.fragment),ze=z(),Nt=N("div"),ot(ft.$$.fragment),Ve=z(),ut=N("div"),$t=N("div"),ot(rt.$$.fragment),Oe=z(),St=N("div"),ot(ht.$$.fragment),this.h()},l(k){e=$(k,"SECTION",{});var D=M(e);n=$(D,"DIV",{class:!0});var dt=M(n);r=$(dt,"H1",{style:!0,class:!0});var Ht=M(r);i=Ft(Ht,"DataPlate"),Ht.forEach(y),o=V(dt),a=$(dt,"H2",{style:!0,class:!0});var Ct=M(a);s=Ft(Ct,"Adapting the student meal plan to the needs of the Colombian household!"),Ct.forEach(y),dt.forEach(y),c=V(D),l=$(D,"DIV",{class:!0});var _t=M(l);h=$(_t,"P",{});var It=M(h);f=Ft(It,"In 2022, the World Food Program (WFP) conducted a food security and nutrition assessment in Colombia. Findings from the report stated that it is critical to maintain and expand emergency assistance to meet the food security needs of the populations identified. The WFP recommended that such assistance should incorporate a nutritional lens to make sure vulnerable groups are able to access a nutritious diet. In this data visualization, we take a look at the food security of households with children with a focus on nutrition."),It.forEach(y),u=V(_t),d=$(_t,"P",{style:!0});var Ot=M(d);p=Ft(Ot,"Scroll down to start."),Ot.forEach(y),_t.forEach(y),_=V(D),m=$(D,"DIV",{class:!0});var pt=M(m);v=$(pt,"DIV",{class:!0});var Lt=M(v);at(b.$$.fragment,Lt),Lt.forEach(y),C=V(pt),A=$(pt,"DIV",{class:!0});var En=M(A);at(I.$$.fragment,En),En.forEach(y),pt.forEach(y),F=V(D),R=$(D,"DIV",{class:!0});var se=M(R);H=$(se,"DIV",{class:!0});var Nn=M(H);at(S.$$.fragment,Nn),Nn.forEach(y),q=V(se),P=$(se,"DIV",{class:!0});var $n=M(P);at(O.$$.fragment,$n),$n.forEach(y),se.forEach(y),Et=V(D),Y=$(D,"DIV",{class:!0});var le=M(Y);G=$(le,"DIV",{class:!0});var Sn=M(G);at(B.$$.fragment,Sn),Sn.forEach(y),ze=V(le),Nt=$(le,"DIV",{class:!0});var Cn=M(Nt);at(ft.$$.fragment,Cn),Cn.forEach(y),le.forEach(y),Ve=V(D),ut=$(D,"DIV",{class:!0});var ce=M(ut);$t=$(ce,"DIV",{class:!0});var In=M($t);at(rt.$$.fragment,In),In.forEach(y),Oe=V(ce),St=$(ce,"DIV",{class:!0});var Dn=M(St);at(ht.$$.fragment,Dn),Dn.forEach(y),ce.forEach(y),D.forEach(y),this.h()},h(){Bt(r,"font-family","Arial"),Bt(r,"font-size","100px"),w(r,"class","svelte-k0wqio"),Bt(a,"font-family","Arial"),w(a,"class","svelte-k0wqio"),w(n,"class","hero svelte-k0wqio"),Bt(d,"font-weight","bold"),Bt(d,"justify-content","center"),w(l,"class","intro svelte-k0wqio"),w(v,"class","steps-container svelte-k0wqio"),w(A,"class","sticky svelte-k0wqio"),w(m,"class","section-container svelte-k0wqio"),w(H,"class","steps-container svelte-k0wqio"),w(P,"class","sticky svelte-k0wqio"),w(R,"class","section-container svelte-k0wqio"),w(G,"class","steps-container svelte-k0wqio"),w(Nt,"class","sticky svelte-k0wqio"),w(Y,"class","section-container svelte-k0wqio"),w($t,"class","steps-container svelte-k0wqio"),w(St,"class","sticky svelte-k0wqio"),w(ut,"class","section-container svelte-k0wqio")},m(k,D){T(k,e,D),E(e,n),E(n,r),E(r,i),E(n,o),E(n,a),E(a,s),E(e,c),E(e,l),E(l,h),E(h,f),E(l,u),E(l,d),E(d,p),E(e,_),E(e,m),E(m,v),st(b,v,null),E(m,C),E(m,A),st(I,A,null),E(e,F),E(e,R),E(R,H),st(S,H,null),E(R,q),E(R,P),st(O,P,null),E(e,Et),E(e,Y),E(Y,G),st(B,G,null),E(Y,ze),E(Y,Nt),st(ft,Nt,null),E(e,Ve),E(e,ut),E(ut,$t),st(rt,$t,null),E(ut,Oe),E(ut,St),st(ht,St,null),ae=!0},p(k,[D]){const dt={};D&65537&&(dt.$$scope={dirty:D,ctx:k}),!g&&D&1&&(g=!0,dt.value=k[0],ue(()=>g=!1)),b.$set(dt);const Ht={};D&1&&(Ht.step=k[0]),I.$set(Ht);const Ct={};D&65537&&(Ct.$$scope={dirty:D,ctx:k}),!x&&D&1&&(x=!0,Ct.value=k[0],ue(()=>x=!1)),S.$set(Ct);const _t={};D&1&&(_t.step=k[0]),O.$set(_t);const It={};D&65537&&(It.$$scope={dirty:D,ctx:k}),!W&&D&1&&(W=!0,It.value=k[0],ue(()=>W=!1)),B.$set(It);const Ot={};D&1&&(Ot.step=k[0]),ft.$set(Ot);const pt={};D&65537&&(pt.$$scope={dirty:D,ctx:k}),!He&&D&1&&(He=!0,pt.value=k[0],ue(()=>He=!1)),rt.$set(pt);const Lt={};D&1&&(Lt.step=k[0]),ht.$set(Lt)},i(k){ae||(j(b.$$.fragment,k),j(I.$$.fragment,k),j(S.$$.fragment,k),j(O.$$.fragment,k),j(B.$$.fragment,k),j(ft.$$.fragment,k),j(rt.$$.fragment,k),j(ht.$$.fragment,k),ae=!0)},o(k){tt(b.$$.fragment,k),tt(I.$$.fragment,k),tt(S.$$.fragment,k),tt(O.$$.fragment,k),tt(B.$$.fragment,k),tt(ft.$$.fragment,k),tt(rt.$$.fragment,k),tt(ht.$$.fragment,k),ae=!1},d(k){k&&y(e),lt(b),lt(I),lt(S),lt(O),lt(B),lt(ft),lt(rt),lt(ht)}}}function lc(t,e,n){let r;const i=["<p style='font-family: Arial; font-size: 22px; line-height: 160%'> 7,097 Colombian households were surveyed in the <a href='https://docs.wfp.org/api/documents/WFP-0000147247/download/?_ga=2.170658592.1445693605.1682871870-44187498.1677044367'>Colombian Emergency Food Security and Nutrition Assessment (EFSA)</a> </p>","<p style='font-family: Arial; font-size: 22px; line-height: 160%'>Of these, <span style='font-weight:bold;'>47%</span> were households with <span style='font-weight:bold; color:#0595b3;'>students</span></p>","<p style='font-family: Arial; font-size: 22px; line-height: 160%'>49% of the <span style='font-weight:bold; color:#0595b3;'>households with students</span> relied on the <span style='font-weight:bold; color:#A491D3;'>school meal plan</span> </p>","<p style='font-family: Arial; font-size: 22px; line-height: 160%'> That is, 1 out of every 5 Colombian households participated in the school meal plan.</p>","<p style='font-family: Arial; font-size: 22px; line-height: 160%'> Focusing on the food security and nutrition of this population provides us with insights into the nutritional effectiveness of the meal plans</p>"],o=["<p style='font-family: Arial; font-size: 22px; line-height: 160%'> How can the meal plan be improved? </p> <p style='font-family: Arial; font-size: 22px; line-height: 160%'> We can consider the quality of the diet of <span style='font-weight:bold; color: #A491D3;'>meal plan households</span></p>","<p style='font-family: Arial; font-size: 22px; line-height: 160%'> The <span style='font-weight:bold;'>food consumption score (FCS)</span> is an indicator of diet diversity, meal frequency, and nutritional value.</p> <p style='font-family: Arial; font-size: 22px; line-height: 160%'> This index can be used to calculate household food consumption status.</p> <p style='font-family: Arial; font-size: 22px; line-height: 160%'> Households status may be evaluated as <span style='font-weight:bold; color: #54ae89;'>acceptable</span>, <span style='font-weight:bold; color: #fcb44c;'>boderline</span>, or <span style='font-weight:bold; color: #f46c6c;'>poor</span>.</p>"],a=["<h1 style='font-family: Arial; line-height: 140%'>Diets appear unbalanced <strong>regardless of FCS status.</strong></h2><p style='font-family: Arial; font-size: 22px; line-height: 160%'>Even in meal-plan households with 'acceptable' consumption, <strong>many vital food groups are absent.</strong></p>","<h2 style='font-family: Arial; line-height: 160%'><strong>65%</strong> of all households eat vegetables <span style='font-weight:bold; color:#ba9a56;''>less than twice a week</span>.</h2>   <p style='font-family: Arial; font-size: 22px; line-height: 160%'>In Colombia, the average adult over 20 years old consumes only 32% of the recommended vegetable intake.</p>   <p style='font-family: Arial; font-size: 22px; line-height: 160%'>Despite <strong>13% of children suffering from malnutrition</strong>, the degree to which children meet the recommended vegetable intake is largely missing from the literature.</p>","<h2 style='font-family: Arial; line-height: 160%'>Choose a food group to learn more about the eating habits of meal-plan households.</h2>"],s=["<p>regular bar1  </p>","<p>regular bar2 </p>"];function c(u){r=u,n(0,r)}function l(u){r=u,n(0,r)}function h(u){r=u,n(0,r)}function f(u){r=u,n(0,r)}return[r,i,o,a,s,c,l,h,f]}class cc extends kt{constructor(e){super(),At(this,e,lc,sc,Mt,{})}}function fc(t){let e,n;return e=new cc({}),{c(){ot(e.$$.fragment)},l(r){at(e.$$.fragment,r)},m(r,i){st(e,r,i),n=!0},p:J,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){tt(e.$$.fragment,r),n=!1},d(r){lt(e,r)}}}class hc extends kt{constructor(e){super(),At(this,e,null,fc,Mt,{})}}export{hc as default};
